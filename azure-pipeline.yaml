trigger:
  - main  

pool: Default

variables:
  dockerHubUsername: 'saranya275'
  imageName: 'saranya275/myapp1'

steps:
  - checkout: self

  - script: |
      echo "Logging in to Docker Hub..."
      echo "$(DOCKER_Password)" | docker login -u "$(dockerHubUsername)" --password-stdin
    displayName: 'Docker Login'

  - script: |
      docker build -t $(imageName):$(Build.BuildId) .
    displayName: 'Build Docker Image'

  - script: |
      docker push $(imageName):$(Build.BuildId)
    displayName: 'Push Docker Image'
